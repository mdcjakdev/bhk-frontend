<div >
  <!--[ngClass]="(!firstInit) ? 'to-half-height' : ''"-->

  <mat-menu #menu="matMenu">
    <button mat-menu-item [disabled]="awaitSearch"  (contextmenu)="preventDefaultMode($event)">
      <mat-icon>note_add</mat-icon>
      <span>Data baru</span>
    </button>
    <button mat-menu-item (click)="executeToGetData()" [disabled]="awaitSearch"  (contextmenu)="preventDefaultMode($event)">
      <mat-icon>hdr_strong</mat-icon>
      <span>Segarkan</span>
    </button>
    <mat-divider></mat-divider>
    <button mat-menu-item  (contextmenu)="preventDefaultMode($event)">
      <mat-icon>receipt</mat-icon>
      <span>Bantuan Halaman</span>
    </button>
  </mat-menu>


  <mat-menu #menuData="matMenu" xPosition="after" yPosition="below"
            (closed)="tableMenuRightClickOnClose($event)"
            (contextmenu)="preventDefaultMode($event)" >
    <button mat-menu-item  (contextmenu)="preventDefaultMode($event)">
      <mat-icon>description</mat-icon>
      <span>Rincian informasi</span>
    </button>
    <button mat-menu-item [disabled]="awaitSearch" (contextmenu)="preventDefaultMode($event)">
      <mat-icon>edit</mat-icon>
      <span>Ubah data</span>
    </button>
    <button mat-menu-item [disabled]="awaitSearch"  (contextmenu)="preventDefaultMode($event)">
      <mat-icon>delete</mat-icon>
      <span>Hapus data</span>
    </button>
    <!--<mat-divider></mat-divider>-->

  </mat-menu>

  <div id="card-wrapper">
    <!--CARD TITLE-->
    <mat-card id="card-page">

      <mat-card-title>
        <mat-progress-bar *ngIf="awaitRefresh" color="accent" mode="indeterminate"></mat-progress-bar>

        <mat-toolbar-row>
          <label class="accent">Master Unit</label>
          <span style="flex: 1 1 auto"></span>
          <button mat-icon-button
                  matTooltip="Aksi pada halaman"
                  [matTooltipPosition]="'left'" [matMenuTriggerFor]="menu">
            <mat-icon>more_vert</mat-icon>
          </button>

        </mat-toolbar-row>
      </mat-card-title>
      <mat-card-subtitle class="move-subtitle-up">Data-data yang digunakan untuk master unit</mat-card-subtitle>

      <mat-divider></mat-divider>
      <!---->
      <mat-card-content style="position: relative"><br>

        <mat-accordion>
          <mat-expansion-panel hideToggle id="card-search"
                               (afterCollapse)="searchCollapsed()"
                               (afterExpand)="searchExpanded()">
            <mat-expansion-panel-header style="">
              <mat-progress-spinner *ngIf="awaitSearch && awaitSearchIsCollapsed; else searchIcon"
                                    class="example-margin"
                                    color="accent"
                                    diameter="24"
                                    mode="indeterminate">
              </mat-progress-spinner>
              <ng-template #searchIcon>
                <mat-icon color="accent">search</mat-icon>
              </ng-template>

              <mat-panel-title style="padding: 0px" >
                <i *ngIf="awaitSearch && awaitSearchIsCollapsed; else searchMessage" class="accent">
                  Sedang melakukan pencarian...
                </i>

                <ng-template #searchMessage>
                  <label class="font-color bold">Pencarian Data</label>
                </ng-template>

              </mat-panel-title>
              <mat-progress-bar *ngIf="awaitSearch" color="accent" mode="indeterminate"></mat-progress-bar>
            </mat-expansion-panel-header>

            <mat-form-field>
              <input matInput placeholder="First name">
            </mat-form-field>
            <mat-form-field>
              <input matInput type="number" min="1" placeholder="Age">
            </mat-form-field>

            <mat-action-row>
              <button style="margin-right: 10px" mat-stroked-button color="accent" (click)="tes2()">
                Cari
              </button>
            </mat-action-row>
          </mat-expansion-panel>
        </mat-accordion>

      </mat-card-content>
    </mat-card>
    <br>
    <!--TABLE-->

    <!--trigger dari menu di tabel-->
    <span
      [style.position]="'absolute'"
      [style.marginLeft.px]="xContextMenuOfTable" [style.marginTop.px]="yContextMenuOfTable"
      #triggerMenuRow [matMenuTriggerFor]="menuData"></span>
    <!---->
    <div class="mat-elevation-z8" >
      <table mat-table class="full-width-table" [dataSource]="dataSource" matSort aria-label="Elements">
        <!-- Id Column -->
        <ng-container matColumnDef="uuid">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Id</th>
          <td   mat-cell *matCellDef="let row"  >{{row.uuid}}</td>
        </ng-container>

        <!-- Name Column -->
        <ng-container matColumnDef="namaPegawai">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Nama</th>
          <td   mat-cell *matCellDef="let row"  >
            {{row.uuidPegawai.namaPegawai}}</td>
        </ng-container>

        <!-- Name Column -->
        <ng-container matColumnDef="tahunAjar" >
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Tahun</th>
          <td mat-cell *matCellDef="let row"  >{{row.uuidKurikulum.uuidTahunAjar.tahunAjar}}</td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row class="element-row " *matRowDef="let row; columns: displayedColumns;"
            (contextmenu)="cobain($event, row)"></tr>
      </table>



      <mat-paginator #paginator
                     [length]="dataSource.data.length"
                     [pageIndex]="0"
                     [pageSize]="50"
                     [pageSizeOptions]="[25, 50, 100, 250]">
      </mat-paginator>
    </div>
  </div>


</div>
